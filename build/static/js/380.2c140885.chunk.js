"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[380],{40380:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var o=t(1413),a=t(29439),r=t(72791),l=t(60736),s=t(77027),c=t(87309),u=t(16871),i=t(43504),p=t(53655),d=t(49428),g=t(66106),m=t(30914),f=t(49389),h=t(43229),x=t(80184),Z=p.Z.Text,j=[{path:"/scan",name:"\u5bfb\u5b9d\u4e92\u52a8"},{path:"/leaderboard",name:"\u6392\u884c\u699c"}],y=function(){var e=(0,r.useState)(!1),n=(0,a.Z)(e,2),t=n[0],p=n[1],y=s.ZP.useMessage(),S=(0,a.Z)(y,2),v=S[0],I=S[1],k=(0,r.useState)(!1),C=(0,a.Z)(k,2),b=C[0],_=C[1],w=(0,r.useState)(localStorage.getItem("username")),P=(0,a.Z)(w,2),R=P[0],T=P[1],D=localStorage.getItem("score");function H(){_(!b)}var M=(0,u.TH)().pathname;return console.log("layout pathname:",M),(0,x.jsxs)(l.f,(0,o.Z)((0,o.Z)({fixedHeader:!0,logo:"/static/logo/ycbwg_logo.jpeg",contentStyle:{paddingInline:"0 0px"}},{title:"layout_title",layout:"top",fixSiderbar:!0,splitMenus:!0}),{},{location:{pathname:M},onCollapse:function(e){p(e)},collapsed:t,menuDataRender:function(){return j},menuItemRender:function(e,n){return e.isUrl||e.children||!e.path?n:(0,x.jsxs)(i.rU,{to:e.path,onClick:function(){p(!0)},children:[" ",n," "]})},actionsRender:function(e){return[(0,x.jsx)(c.ZP,{onClick:H,children:" \u63d0\u4ea4 "})]},children:[(0,x.jsx)(u.j3,{}),I,(0,x.jsxs)(d.Z,{title:"\u6311\u6218\u8fdb\u5ea6",open:b,onOk:function(){_(!1)},onCancel:function(){_(!1)},children:[(0,x.jsxs)(g.Z,{align:"middle",children:[(0,x.jsx)(m.Z,{span:16,children:(0,x.jsx)(f.Z,{placeholder:"\u8f93\u5165\u60a8\u7684\u59d3\u540d",value:R,onChange:function(e){e.preventDefault(),console.log("name:",e.target.value),T(e.target.value),localStorage.setItem("username",e.target.value)}})}),(0,x.jsx)(m.Z,{span:6,offset:2,children:(0,x.jsxs)(Z,{children:[" \u5206\u6570: ",D," "]})})]}),(0,x.jsx)(g.Z,{justify:"center",children:(0,x.jsx)(c.ZP,{onClick:function(){var e=localStorage.getItem("uuid"),n=localStorage.getItem("username"),t=localStorage.getItem("score");console.log("uuid",e,"username:",n,t),n?null!==e?(0,h.O0)({id:e,username:n,score:t}).then((function(e){v.open({type:"success",content:"\u606d\u559c\u63d0\u4ea4\u6210\u529f"})})).catch((function(e){console.log("put user leaderboard error:",e),v.open({type:"error",content:"\u63d0\u4ea4\u5931\u8d25\uff0c\u7a0d\u540e\u8bf7\u91cd\u8bd5 "+e.message})})):(0,h.ap)({username:n,score:t}).then((function(e){console.log("post response data:",e),localStorage.setItem("uuid",e.id),v.open({type:"success",content:"\u606d\u559c\u63d0\u4ea4\u6210\u529f"})})).catch((function(e){console.log("post user leaderboard error:",e),v.open({type:"error",content:"\u63d0\u4ea4\u5931\u8d25\uff0c\u7a0d\u540e\u8bf7\u91cd\u8bd5 "+e.message})})):v.open({type:"error",content:"\u8bf7\u8f93\u5165\u60a8\u7684\u6635\u79f0\u540e\u63d0\u4ea4"})},style:{marginBottom:"20px",marginTop:"20px"},children:"\u63d0\u4ea4\u5206\u6570"})})]})]}))}}}]);
//# sourceMappingURL=380.2c140885.chunk.js.map