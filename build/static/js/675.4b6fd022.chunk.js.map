{"version":3,"file":"static/js/675.4b6fd022.chunk.js","mappings":"mLAIiBA,EAAAA,EAAAA,KA8FjB,UA3FA,WACE,OAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eACA,GADA,WACgCA,EAAAA,EAAAA,UAASC,aAAaC,QAAQ,cAA9D,eACA,GADA,WAC4BF,EAAAA,EAAAA,UAAS,KAArC,eAAOG,EAAP,KAAeC,EAAf,KAqBMC,GAnBQJ,aAAaC,QAAQ,SAmBtBD,aAAaC,QAAQ,SAwClC,OAnCAI,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,MACGC,MAAK,SAACC,GACLC,QAAQC,IAAI,0BAA2BF,GACvCL,EAAUK,EACX,IACAG,OAAM,SAACC,GACNH,QAAQC,IAAI,mBAAoBE,EACjC,GACJ,GAAE,IAwBHH,QAAQC,IAAI,UAAWR,EAAQE,IAG7B,0BAYE,SAAC,IAAD,CACES,WAAYX,EACZY,QAvCU,CAMd,CACEC,MAAO,WACPC,UAAW,WACXC,IAAK,MAEP,CACEF,MAAO,QACPC,UAAW,QACXC,IAAK,OA0BHC,OAAQ,SAACC,GAAD,OAAYA,EAAOC,EAAnB,EACRC,aAvBwB,SAACF,GAC7B,OAAOA,EAAOC,KAAOhB,EAAO,gBAAkB,EAC/C,KA6BF,C,sBCjFD,IAfA,WAEE,IAFuB,gBACjBkB,EAASC,OAAOC,OAAO,CAAC,EAAGC,UAAUC,QAAU,OAAIC,EAAYF,UAAU,IADxD,WAEdG,GACP,IAAMC,EAAMD,EAAI,GAAKH,EAAUC,QAAUE,OAAID,EAAYF,EAAUG,GAC/DC,GACFN,OAAOO,KAAKD,GAAKE,SAAQ,SAAAd,GACvB,IAAMe,EAAMH,EAAIZ,QACJU,IAARK,IACFV,EAAOL,GAAOe,EAEjB,GAVkB,EAEdJ,EAAI,EAAGA,EAAIH,UAAUC,OAAQE,IAAK,EAAlCA,GAWT,OAAON,CACR,C","sources":["component/Leaderboard.jsx","../node_modules/antd/es/_util/extendsObject.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Input, Typography, Row, Col, Table, Pagination } from \"antd\";\r\nimport { get_leaderboard, post_user_leaderboard } from \"../request/api\";\r\n\r\nconst { Text } = Typography\r\n\r\n\r\nfunction Leaderboard() {\r\n  const [players, setPlayers] = useState([]);\r\n  const [username, setUsername] = useState(localStorage.getItem(\"username\"));\r\n  const [scores, setScores] = useState([]);\r\n\r\n  const score = localStorage.getItem(\"score\")\r\n\r\n  const handleUsernameChange = (event) => {\r\n    event.preventDefault();\r\n\r\n    console.log(\"name:\", event.target.value)\r\n    setUsername(event.target.value)\r\n    localStorage.setItem(\"username\", event.target.value)\r\n\r\n    // post_user_leaderboard({\r\n    //   uuid: uuid,\r\n    //   username: username,\r\n    // })\r\n    //   .then((response) => {})\r\n    //   .catche((error) => {\r\n    //     console.log(\"post user leaderboard:\", error);\r\n    //   });\r\n  }\r\n\r\n  const uuid = localStorage.getItem(\"uuid\")\r\n\r\n  // 对玩家按分数降序排序\r\n  // players.sort((a, b) => b.score - a.score);\r\n\r\n  useEffect(() => {\r\n    get_leaderboard()\r\n      .then((data) => {\r\n        console.log(\"get leaderboard success\", data);\r\n        setScores(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"get_leaderboard:\", error);\r\n      });\r\n  }, []);\r\n\r\n  const columns = [\r\n    // {\r\n    //   title: \"ID\",\r\n    //   dataIndex: \"id\",\r\n    //   key: \"id\",\r\n    // },\r\n    {\r\n      title: \"Username\",\r\n      dataIndex: \"username\",\r\n      key: \"id\",\r\n    },\r\n    {\r\n      title: \"Score\",\r\n      dataIndex: \"score\",\r\n      key: \"id\",\r\n    },\r\n  ];\r\n\r\n  const highlightRowClassName = (record) => {\r\n    return record.id === uuid ? 'highlight-row' : '';\r\n  };\r\n\r\n  console.log(\"scores:\", scores, uuid)\r\n\r\n  return (\r\n    <div>\r\n      {/* {score && score > 0 &&\r\n        <Row>\r\n          <Col span={16}>\r\n            <Input placeholder=\"输入您的姓名\" value={username} onChange={handleUsernameChange} />\r\n          </Col>\r\n          <Col span = {6} offset={2}>\r\n            <Text> 分数: {score} </Text>\r\n          </Col>\r\n        </Row>\r\n      } */}\r\n\r\n      <Table\r\n        dataSource={scores}\r\n        columns={columns}\r\n        rowKey={(record) => record.id} // Add unique key prop here\r\n        rowClassName={highlightRowClassName}\r\n      ></Table>\r\n      {/* <Pagination\r\n        defaultCurrent={1}\r\n        total={500}\r\n        responsive={true} /> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Leaderboard;\r\n","function extendsObject() {\n  const result = Object.assign({}, arguments.length <= 0 ? undefined : arguments[0]);\n  for (let i = 1; i < arguments.length; i++) {\n    const obj = i < 0 || arguments.length <= i ? undefined : arguments[i];\n    if (obj) {\n      Object.keys(obj).forEach(key => {\n        const val = obj[key];\n        if (val !== undefined) {\n          result[key] = val;\n        }\n      });\n    }\n  }\n  return result;\n}\nexport default extendsObject;"],"names":["Typography","useState","localStorage","getItem","scores","setScores","uuid","useEffect","get_leaderboard","then","data","console","log","catch","error","dataSource","columns","title","dataIndex","key","rowKey","record","id","rowClassName","result","Object","assign","arguments","length","undefined","i","obj","keys","forEach","val"],"sourceRoot":""}