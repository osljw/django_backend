{"version":3,"file":"static/js/119.2ef144f5.chunk.js","mappings":"mNAKQA,EAAYC,EAAAA,EAAAA,QAEdC,EAAQ,CACZC,KAAM,OACNC,UAAU,EAEVC,OAAQ,oCAERC,SANY,SAMHC,GAEP,IAAQC,EAAWD,EAAKE,KAAhBD,OACO,cAAXA,GACFE,QAAQC,IAAIJ,EAAKE,KAAMF,EAAKK,UAGf,SAAXJ,EACFK,EAAAA,GAAAA,QAAA,UAAmBN,EAAKE,KAAKN,KAA7B,iCACoB,UAAXK,EACTK,EAAAA,GAAAA,MAAA,UAAiBN,EAAKE,KAAKN,KAA3B,yBACoB,YAAXK,GACTE,QAAQC,IAAI,kBAEf,EACDG,OArBY,SAqBLC,GACLL,QAAQC,IAAI,gBAAiBI,EAAEC,aAAaC,MAC7C,EACDC,SAxBY,SAwBHT,GAEP,OADAC,QAAQC,IAAI,eAAgBF,IACrB,CACR,GAiDH,UA9CA,WACE,OAA8BU,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KA4BA,OA1BAnB,EAAMI,SAAW,SAACC,GAEhB,IAAQC,EAAWD,EAAKE,KAAhBD,OAKR,GAJe,cAAXA,GACFE,QAAQC,IAAIJ,EAAKE,KAAMF,EAAKK,UAGf,SAAXJ,GAGF,GAFAK,EAAAA,GAAAA,QAAA,UAAmBN,EAAKE,KAAKN,KAA7B,iCAEsB,OADFI,EAAKE,KAAKN,KAAKmB,MAAM,KAAKC,MAAMC,cACxB,CAC1B,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAACZ,GAEfM,EAAWN,EAAEa,OAAOC,OACrB,EACDJ,EAAOK,WAAWvB,EAAKE,KAAKsB,cAC7B,MAEmB,UAAXvB,EACTK,EAAAA,GAAAA,MAAA,UAAiBN,EAAKE,KAAKN,KAA3B,yBACoB,YAAXK,GACTE,QAAQC,IAAI,kBAEf,GAGC,iCACE,UAACX,GAAD,kBAAaE,GAAb,eACE,cAAG8B,UAAU,uBAAb,UACE,SAAC,IAAD,OAEF,cAAGA,UAAU,kBAAb,wDACA,cAAGA,UAAU,kBAAb,8HAKF,SAAC,KAAD,8BACA,SAAC,IAAD,CAAUC,IAAKb,MAGpB,C","sources":["view/Upload.jsx"],"sourcesContent":["import { InboxOutlined } from '@ant-design/icons';\r\nimport { Button, message, Upload } from 'antd';\r\nimport { useState } from 'react';\r\nimport Markdown from \"../component/Markdown\";\r\n\r\nconst { Dragger } = Upload;\r\n\r\nconst props = {\r\n  name: 'file',\r\n  multiple: true,\r\n  // action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n  action: 'http://127.0.0.1:8000/api/upload/',\r\n  // showUploadList: false,\r\n  onChange(info) {\r\n    // console.log(\"onchange:\", info)\r\n    const { status } = info.file;\r\n    if (status !== 'uploading') {\r\n      console.log(info.file, info.fileList);\r\n    }\r\n\r\n    if (status === 'done') {\r\n      message.success(`${info.file.name} file uploaded successfully.`);\r\n    } else if (status === 'error') {\r\n      message.error(`${info.file.name} file upload failed.`);\r\n    } else if (status === 'removed') {\r\n      console.log(\"remove file end\")\r\n    }\r\n  },\r\n  onDrop(e) {\r\n    console.log('Dropped files', e.dataTransfer.files);\r\n  },\r\n  onRemove(file) {\r\n    console.log(\"remove file:\", file)\r\n    return true\r\n  }\r\n};\r\n\r\nfunction UploadFile() {\r\n  const [docData, setDocData] = useState('')\r\n  \r\n  props.onChange = (info) => {\r\n    // console.log(\"onchange:\", info)\r\n    const { status } = info.file;\r\n    if (status !== 'uploading') {\r\n      console.log(info.file, info.fileList);\r\n    }\r\n\r\n    if (status === 'done') {\r\n      message.success(`${info.file.name} file uploaded successfully.`);\r\n      var fileExtension = info.file.name.split('.').pop().toLowerCase()\r\n      if (fileExtension === 'md') {\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          // console.log(\"onload:\", e.target.result);\r\n          setDocData(e.target.result)\r\n        }\r\n        reader.readAsText(info.file.originFileObj);\r\n      }\r\n\r\n    } else if (status === 'error') {\r\n      message.error(`${info.file.name} file upload failed.`);\r\n    } else if (status === 'removed') {\r\n      console.log(\"remove file end\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Dragger {...props}>\r\n        <p className=\"ant-upload-drag-icon\">\r\n          <InboxOutlined />\r\n        </p>\r\n        <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\r\n        <p className=\"ant-upload-hint\">\r\n          Support for a single or bulk upload. Strictly prohibited from uploading company data or other\r\n          banned files.\r\n        </p>\r\n      </Dragger>\r\n      <Button> 重置 </Button>\r\n      <Markdown doc={docData} />\r\n    </>\r\n  )\r\n}\r\nexport default UploadFile;"],"names":["Dragger","Upload","props","name","multiple","action","onChange","info","status","file","console","log","fileList","message","onDrop","e","dataTransfer","files","onRemove","useState","docData","setDocData","split","pop","toLowerCase","reader","FileReader","onload","target","result","readAsText","originFileObj","className","doc"],"sourceRoot":""}